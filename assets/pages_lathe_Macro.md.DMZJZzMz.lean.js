import{_ as j,U as k,v as S,ab as U,o as u,c as l,j as c,t as b,k as x,F as v,C as M,e as B,Y as O,ad as V,ae as C,G as T,a as A}from"./chunks/framework.Cs8hIhTA.js";import{U as o}from"./chunks/Utils.-nxGnYAP.js";const w=["id"],D={key:0},I={key:1},L=["colspan"],q=["onUpdate:modelValue"],N=["value"],F=["readonly","onUpdate:modelValue"],P=["value"],R={__name:"MacroWidget",props:{config:{type:Object,required:!0}},setup(e){const n=e,r=n.config;function _(i){const s={};for(let t in i)s[t]=i[t].value;return s}function d(i){return typeof i=="number"?parseFloat(i.toFixed(5)):typeof i=="string"?i.toString().toUpperCase():i}function y(i,s){const t=Object.keys(s).length,p=i.reduce((m,f)=>Object.keys(f).length>m?Object.keys(f).length:m,-1/0);return t===1&&p!==1?p:void 0}const a=k({items:(r==null?void 0:r.items)||[],select:""}),h=(r==null?void 0:r.calc)||(()=>({}));return S(()=>{console.log("mounted",n.config.name,{items:U(a.items)})}),(i,s)=>(u(),l(v,null,[c("h2",{id:x(r).name.toLowerCase().replaceAll(" ","-")},b(x(r).name),9,w),c("table",null,[(u(!0),l(v,null,M(a.items,t=>(u(),l("tr",null,[s[0]||(s[0]=c("td",null," [ ",-1)),(u(!0),l(v,null,M(t.value,(p,m)=>(u(),l(v,null,[Object.keys(t.value).length>1&&(Object.keys(t.value).findIndex(f=>f===m)+1)%2===0?(u(),l("td",D,b(t.name.toUpperCase()),1)):B("",!0),Object.keys(t.value).length==1?(u(),l("td",I,b(t.name.toUpperCase()),1)):B("",!0),c("td",{colspan:y(Object.values(_(a.items)),t.value)},[Array.isArray(t.range)?O((u(),l("select",{key:0,"onUpdate:modelValue":f=>t.value[m]=f},[(u(!0),l(v,null,M(t.range,f=>(u(),l("option",{value:f},b(f),9,N))),256))],8,q)),[[V,t.value[m]]]):O((u(),l("input",{key:1,type:"number",readonly:t.name===a.select,"onUpdate:modelValue":f=>t.value[m]=f},null,8,F)),[[C,t.value[m]]])],8,L)],64))),256)),s[1]||(s[1]=c("td",null," ] ",-1)),s[2]||(s[2]=c("td",null," = ",-1)),c("td",null,[c("input",{type:"text",readonly:"",value:d(x(h)[t.name](...Object.values(t.value)))},null,8,P)]),c("td",null,b(t.comment),1)]))),256))])],64))}},E=j(R,[["__scopeId","data-v-759776c2"]]),W={"+":(e,n)=>e+n,"-":(e,n)=>e-n,"*":(e,n)=>e*n,"/":(e,n)=>e/n,eq:(e,n)=>e===n,ne:(e,n)=>e!==n,gt:(e,n)=>e>n,ge:(e,n)=>e>=n,lt:(e,n)=>e<n,le:(e,n)=>e<=n,and:(e,n)=>o.toBinaryString(o.parseBinary(e)&o.parseBinary(n)),or:(e,n)=>o.toBinaryString(o.parseBinary(e)|o.parseBinary(n)),xor:(e,n)=>o.toBinaryString(o.parseBinary(e)^o.parseBinary(n)),not:e=>o.toBinaryString(~o.parseBinary(e)),sin:e=>Math.sin(o.degreesToRadians(e)),cos:e=>Math.cos(o.degreesToRadians(e)),tan:e=>Math.tan(o.degreesToRadians(e)),asin:e=>o.radiansToDegrees(Math.asin(e)),acos:e=>o.radiansToDegrees(Math.acos(e)),atan:e=>o.radiansToDegrees(Math.atan(e)),sqrt:e=>Math.sqrt(e),abs:e=>Math.abs(e),round:e=>Math.round(e),exp:e=>Math.exp(e),ln:e=>Math.log(e),fix:e=>Math.floor(e),fup:e=>Math.ceil(e),b2d:e=>o.parseBinary(e).toString(),d2b:e=>o.toBinaryString(e*1),pi:Math.PI},$={get(e,n){const r=e[n.toLocaleLowerCase()];return typeof r=="function"?(..._)=>{const d=r(..._);if(typeof d=="number")return o.roundNumber(d);if(typeof d=="string"||typeof d=="boolean")return o.formatStringOrBoolean(d)}:r}},g=new Proxy(W,$),G={__name:"Macro",setup(e){function n(d="default",y="默认注释",a=void 0,h={min:-9999.9999,max:9999.9999},i=!1){(a===void 0||typeof a=="number"||typeof a=="string"||typeof a=="boolean"||Array.isArray(a))&&(a={value_:a});const s={name:d,comment:y,value:a,range:h||{min:-9999.9999,max:9999.9999},disabled:i};{let t;Array.isArray(a)?t=a:typeof a=="object"?t=[...Object.values(a).flat()]:t=[a],t.every(p=>typeof p=="boolean")?s.inType="boolean":t.every(p=>typeof p=="string")?s.inType="string":t.every(p=>typeof p=="number")&&(s.inType="number")}return s}function r(...d){const y={};return d.forEach(a=>{y[a.name]=a}),y}const _={Arithmetic:{name:"算术运算",items:r(n("+","加法",{lv:1,rv:2},void 0,!0),n("-","减法",{lv:1,rv:2},void 0,!0),n("*","乘法",{lv:1,rv:2},void 0,!0),n("/","除法",{lv:1,rv:2},void 0,!0)),calc:g},Comparison:{name:"比较运算",items:r(n("eq","等于",{lv:1,rv:2},void 0,!0),n("ne","不等于",{lv:1,rv:2},void 0,!0),n("gt","大于",{lv:1,rv:2},void 0,!0),n("ge","大于等于",{lv:1,rv:2},void 0,!0),n("lt","小于",{lv:1,rv:2},void 0,!1),n("le","小于等于",{lv:1,rv:2},void 0,!0)),calc:g},Logic:{name:"逻辑运算",items:r(n("and","与",{lv:"1100",rv:"1101"},void 0,!0),n("or","或",{lv:"1100",rv:"1101"},void 0,!0),n("xor","异或",{lv:"1100",rv:"1101"},void 0,!0),n("not","非","1100",void 0,!0)),calc:g},Trigonometry:{name:"三角函数",items:r(n("sin","正弦，对边比斜边",30,{min:0,max:90},!0),n("cos","余弦，邻边比斜边",60,{min:0,max:90},!0),n("tan","正切，对边比邻边",45,{min:0,max:90},!0),n("asin","反正弦，正弦值对应的角度",.5,{min:-1,max:1},!0),n("acos","反余弦，余弦值对应的角度",.5,{min:-1,max:1},!0),n("atan","反正切，正切值对应的角度",1,{min:-1,max:1},!0)),calc:g},Function:{name:"函数",items:r(n("sqrt","平方根",4,void 0,!0),n("abs","绝对值",-2,void 0,!0),n("round","四舍五入",3.6,void 0,!0),n("exp","指数",2,void 0,!0),n("ln","对数",10,void 0,!0),n("fix","下取整",3.6,void 0,!0),n("fup","上取整",3.6,void 0,!0)),calc:g},B2D:{name:"进制转换",items:r(n("b2d","二进制转十进制","101010",void 0,!0),n("d2b","十进制转二进制","10",void 0,!0)),calc:g}};return(d,y)=>(u(),l(v,null,M(_,(a,h)=>T(E,{key:h,config:a},null,8,["config"])),64))}},H=JSON.parse('{"title":"Macro","description":"","frontmatter":{},"headers":[],"relativePath":"pages/lathe/Macro.md","filePath":"pages/lathe/Macro.md"}'),J={name:"pages/lathe/Macro.md"},K=Object.assign(J,{setup(e){return(n,r)=>(u(),l("div",{"data-pagefind-body":!0},[r[0]||(r[0]=c("h1",{id:"macro",tabindex:"-1"},[A("Macro "),c("a",{class:"header-anchor",href:"#macro","aria-label":'Permalink to "Macro"'},"​")],-1)),r[1]||(r[1]=c("p",null,"This is a macro component.",-1)),T(G)]))}});export{H as __pageData,K as default};
